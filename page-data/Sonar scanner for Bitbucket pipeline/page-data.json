{"componentChunkName":"component---src-templates-post-template-tsx","path":"/Sonar scanner for Bitbucket pipeline","result":{"pageContext":{"html":"<p>This is a sample build configuration for PHP. (mod by Theerayooth Kosin)\nCheck our guides at <a href=\"https://confluence.atlassian.com/x/VYk8Lw\">https://confluence.atlassian.com/x/VYk8Lw</a> for more examples.\nOnly use spaces to indent your .yml configuration.</p>\n<hr>\n<p>You can specify a custom docker image from Docker Hub as your build environment.\nSet up your SonarQube server or use public server before setting up the pipeline.</p>\n<p>Uncomment below to use SonarQube image\nimage: sonarqube:latest</p>\n<p>Choose Atlassion image\nimage: atlassian/default-image:latest</p>\n<h3>Go with pipeline</h3>\n<pre><code>pipelines:\n\n  # any brance, https://confluence.atlassian.com/bitbucket/branch-workflows-in-bitbucket-pipelines-856697482.html\n  default:\n    - step:\n        script:\n          - apt-get --yes --force-yes update\n          - apt-get --yes --force-yes install unzip curl php5-cli php-crypt-blowfish php5-mcrypt mcrypt git\n          - php -v\n          - php -m\n          - curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer\n          - composer install\n          - curl --insecure -OL https://sonarsource.bintray.com/Distribution/sonar-scanner-cli/sonar-scanner-2.8.zip\n          - unzip sonar-scanner-2.8.zip\n          - chmod +x sonar-scanner-2.8/bin/sonar-scanner\n          - sonar-scanner-2.8/bin/sonar-scanner -Dsonar.exclusions=sonar-scanner-2.8.zip,sonar-scanner-2.8/**/*,vendor/**/* -Dsonar.login=&#x3C;admin-user> -Dsonar.password=&#x3C;admin-password> -Dsonar.projectKey=&#x3C;project-key> -Dsonar.projectName=&#x3C;project-name> -Dsonar.projectVersion=1.0 -Dsonar.sources=.  -Dsonar.host.url=http://&#x3C;your-sonarqube-host>:9000 -Dsonar.sourceEncoding=UTF-8 -Dsonar.analysis.mode=publish\n          - echo \"http://&#x3C;your-sonarqube-host>:9000/dashboard/index/&#x3C;project-name>\"\n</code></pre>","title":"Sonar scanner for Bitbucket pipeline"}}}